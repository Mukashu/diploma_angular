<div class="popup">
  <div class="popup-window">
    <div class="popup-close" (click)="closePopupWindow()">
      <img src="./assets/images/page/close.png" alt="X">
    </div>
    <div class="popup-form" *ngIf="showPopupComponents.form" [formGroup]="orderForm">
      <div class="popup-form-title">Заявка на услугу</div>
      <div class="popup-inputs">
        <div class="popup-input">
          <input type="text" class="input select-input" readonly
                 value="{{selectedOption}}"
                 (click)="showSelectList()"
                 formControlName="service">
          <div class="popup-select" *ngIf="showSelect">
            <ul class="popup-select-options">
              <li class="popup-select-option"
                  *ngFor="let service of services"
                  (click)="selectOption(service.title); showSelectList()">
                {{ service.title }}
              </li>
            </ul>
          </div>
        </div>
        <div class="popup-input">
          <input type="text" class="input popup-input"
                 [ngStyle]="{'border-color': orderForm.get('name')?.invalid
                 && (orderForm.get('name')?.dirty || orderForm.get('name')?.touched) ? 'red' : ''}"
                 placeholder="Ваше имя"
                 formControlName="name">
        </div>
        <div class="popup-input">
          <input type="text" class="input popup-input"
                 [ngStyle]="{'border-color': orderForm.get('phone')?.invalid
                 && (orderForm.get('phone')?.dirty || orderForm.get('phone')?.touched) ? 'red' : ''}"
                 placeholder="Ваш номер телефона"
                 formControlName="phone">
        </div>
      </div>
      <div class="popup-button">
        <button class="button" [disabled]="orderForm.invalid" (click)="getOrder()">Оставить заявку</button>
        <div class="popup-alert-message" *ngIf="showPopupComponents.alert">Произошла ошибка при отправке формы,
          попробуйте еще раз.
        </div>
      </div>
    </div>
    <div class="popup-success" *ngIf="showPopupComponents.success">
      <div class="popup-success-title">Спасибо за вашу заявку!</div>
      <div class="popup-success-text">Мы свяжемся с вами при первой же возможности.</div>
      <div class="popup-success-button">
        <button class="button" (click)="closePopupWindow()">Окей</button>
      </div>
    </div>
  </div>
</div>

